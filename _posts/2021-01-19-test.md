---
layout: post
title: test
subtitle: Excerpt from Soulshaping by Jeff Brown
cover-img: /assets/img/path.jpg
thumbnail-img: /assets/img/thumb.png
share-img: /assets/img/path.jpg
tags: [books, test]
---

# AirAction n¬∞1 : 3 √©tapes pour concevoir un test de personnalit√© avec Airtable

Voici un tutoriel pour √©laborer un test de personnalit√© avec Airtable.

L'usage d'Airtable permet une grande flexibilit√© dans la configuration du test et le traitement des donn√©es.

Ce travail s'inspire d'une vraie mission Freelance.

Le temps n√©cessaire √† la r√©alisation d'un test d√©pend du nombre de questions/r√©ponses, comptez :
- une bonne demi-journ√©e si vous partez de z√©ro.
- 1h/1h30 si vous partez du template (dispo √† la fin de l'article).

Je remercie [**Florian Verdonck**](https://www.linkedin.com/in/florian-verdonck-52342030/) et [**Menda Konate**](https://www.linkedin.com/in/menda-konate-014748187/) pour les √©changes sur ce sujet.

# Introduction

## Objectif

Cr√©er un test de personnalit√© sur Airtable comprenant :

- Un formulaire pour collecter les informations

![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Formulaire-Personnallite.gif](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Formulaire-Personnallite.gif)

Formulaire du test de personnalit√©

- Un syst√®me pour envoyer par email automatis√© le r√©sultat du test √† l'utilisateur.

![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/chrome-capture_(1).gif](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/chrome-capture_(1).gif)

Email re√ßu par le r√©pondant avec le r√©sultat

Vous pouvez, d√®s √† pr√©sent, tester [**le formulaire**](https://airtable.com/shrrjjmWl3unrUXN1). L'email de r√©ponse arrive bien ?

## Domaine d'application de l'outil

- Test de personnalit√©.
- Conception d'un QCM pour un **examen**.
- Toute situation o√π vous souhaitez faire correspondre √† chaque r√©ponse, un ou plusieurs chiffres, un ou plusieurs mot clefs.

## Concepts abord√©s

C'est un article avanc√©. Les concepts abord√©s sont nombreux :

- Les fonctions **SWITCH** et **CONCATENATE** et **LEN**
- Les types de champ "**Roll Up**", "**Count**" et "**Look Up**"
- Les liaisons √† une vue sp√©cifique d'une table
- Les automatisations et la temporalit√© dans les processus d'automatisation.

## Cahier des charges de l'outil

Ce cahier des charges est issu d'une vraie prestation.

Le test de personnalit√© devait r√©pondre aux crit√®res suivants :

- Un formulaire est envoy√© aux clients potentiels.
- Il contient 20 questions.
- Chaque question propose 7 r√©ponses.
- Chaque proposition correspond √† une personnalit√© particuli√®re.

Ex : Une r√©ponse telle que "Donner l'essentiel de son argent √† des organisations qui peuvent rendre le monde meilleur" est associ√© √† la Personnalit√© "Moine".

- Lorsque le formulaire est valid√©, le nombre de r√©ponses pour chaque "personnalit√©" est calcul√©.
- La synth√®se est envoy√©e automatiquement par email √† la personne interrog√©e sous ce format :

![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_10.58.32.png](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_10.58.32.png)

La r√©alisation de cet outil a n√©cessit√© 3 sous-modules :

- la cr√©ation du formulaire.
- la cr√©ation de la synth√®se √† partir des r√©sultats du formulaire.
- le syst√®me d'envoi de l'email.

# Etape 1/3 - Cr√©ation du formulaire

Pour cr√©er le formulaire, 2 tables sont requises :

- Une table "Propositions" listant l'ensemble des propositions du quizz.
- Une table "Quizz" pour g√©n√©rer le formulaire.

## Cr√©ation de la table "Propositions"

Cr√©er un table contenant 3 colonnes :

- Dans le champ 1 (type :  "Long Text"), lister les propositions de toutes les questions.
- Dans le champ 2 (type : "Single line text"), associer √† chaque proposition sa personnalit√©.
- Dans le champ 3 (type : "Long Text"), associer √† chaque proposition sa question.

On obtient un tableau ressemblant √† celui-ci.

![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_14.41.50.png](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_14.41.50.png)

Table "Propositions" contenant les propositions associ√©es √† leur question et leur personnalit√©.

- Pourquoi, dans l'image c-dessous, les champs "Personnalit√©" et "Questions" ne sont pas au format "texte" mais des liens vers d'autres tables ?
    - Cela permet d'√™tre plus flexible dans le d√©veloppement de l'outil, notamment si l'on souhaite par exemple associ√© √† la personnalit√© une description d√©taill√©e √† envoyer.
    - Tout ce qui suit est valide que les champs "Personnalit√©" et "Questions" soient au format "texte" ou "lien".

## Cr√©ation des vues "Question X" dans la table "Propositions".

- Dans la table "Propositions", cr√©er autant de vues que de questions.
- Dans notre cas, 20.
- Dans chaque vue, ajouter un filtre concernant le champ "questions" pour ne s√©lectionner qu'une question.
- Exemple pour la vue "Q1" ne seront gard√©s que les records ayant un champ "Question" contenant "1- Si" (ce qui est le d√©but du texte de la question 1)

![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_14.50.40.png](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_14.50.40.png)

## Cr√©ation de la table "Quizz"

Cr√©er une table "Quizz" avec les champs suivants :

- Email (type : email)
- Pr√©nom (type : single line text)
- Question 1
- Question 2
- Question 3
- Question 4
- ...
- Question 20

Chaque champ "Question X" est une liaison avec la table "Propositions" **mais elle se restreint √† la vue "QX"**.

![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_15.20.11.png](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_15.20.11.png)

Le champ de la question 1 ("1 - Si ....implusion") est li√© √† la vue **Q1** de la table "Propositions".

Attention, Il est important de **ne pas permettre** plusieurs liens √† la vue Q1 ("Allow linking to multiple records ‚Üí OFF) sinon le r√©pondant pourra choisir plusieurs propositions pour chaque question !

Dans la table "Quizz", cr√©er une vue "formulaire" en rendant l'ensemble des champs obligatoire.

Le formulaire est maintenant pr√™t !

Cliquer sur "Open Form" pour ouvrir le formulaire dans le navigateur

![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Formulaire-Personnallite.gif](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Formulaire-Personnallite.gif)

Formulaire du test de personnalit√©

- Et pourquoi ne pas avoir utilis√© le type de champ **Single select** ?
- Pourquoi ne pas utiliser un autre outil comme TypeForm, c'est plus joli !

    Effectivement, c'est plus joli, mais c'est payant et il n'est pas possible de faire le type de test que nous allons faire ici avec TypeForm seul.

- Comment afficher les personnalit√©s dans la table Quizz.

    A c√¥t√© de chaque question, ajouter un champ Lookup pour faire apparaitre la "personnalit√©" correspondant √† la proposition choisie.

    ![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Enregistrement_de_lecran_2020-12-31_a_15.03.50.gif](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Enregistrement_de_lecran_2020-12-31_a_15.03.50.gif)

---

# Etape 2/3 - Cr√©ation de la synth√®se √† partir des r√©sultats du formulaire.

Pour rappel, l'objectif est d'obtenir ceci.

![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_10.58.32.png](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_10.58.32.png)

A partir des √©l√©ments stock√©s dans la table Quizz, Il va nous falloir :

- Faire le calcul de points.
- Formater la synth√®se texte.

## Calcul des points

Vous allez vite voir qu'Airtable n'est pas bien adapt√© √† ce type de calcul.

Les 2 m√©thodes propos√©es sont assez laborieuses. Si vous avez une autre solution, je suis preneur !

### M√©thode 1 (pas optimal  mais sans automatisation) - utiliser une fonction "test"

- Dans la table Quizz, pour chaque [Personnalit√©] cr√©er un nouveau champ intitul√© "Nb de [nom de la personnalit√©]" de type **FUNCTION**. Dans notre cas, cela fait 7 nouveaux champs.
- La fonction doit tester pour chaque question, si la r√©ponse correspond √† la personnalit√© consid√©r√© dans ce champ. Si la r√©ponse est "OUI", c'est 1 point, sinon 0 point. La fonction fait la somme des r√©sultats de ces tests. Voici la fonction utilis√© dans le champ "Nb de Amasseur" (type : FUNCTION) :

```jsx
IF({Pr√©sonnalit√© Q1}="Amasseur", 1,0) + IF({Pr√©sonnalit√© Q2}="Amasseur", 1,0) +
IF({Pr√©sonnalit√© Q3}="Amasseur", 1,0) + IF({Pr√©sonnalit√© Q4}="Amasseur", 1,0) +
IF({Pr√©sonnalit√© Q5}="Amasseur", 1,0) + IF({Pr√©sonnalit√© Q6}="Amasseur", 1,0) +
IF({Pr√©sonnalit√© Q7}="Amasseur", 1,0) + IF({Pr√©sonnalit√© Q8}="Amasseur", 1,0) +
IF({Pr√©sonnalit√© Q9}="Amasseur", 1,0) + IF({Pr√©sonnalit√© Q10}="Amasseur", 1,0) +
IF({Pr√©sonnalit√© Q11}="Amasseur", 1,0) + IF({Pr√©sonnalit√© Q12}="Amasseur", 1,0) +
IF({Pr√©sonnalit√© Q13}="Amasseur", 1,0) + IF({Pr√©sonnalit√© Q14}="Amasseur", 1,0) +
IF({Pr√©sonnalit√© Q15}="Amasseur", 1,0) + IF({Pr√©sonnalit√© Q16}="Amasseur", 1,0) +
IF({Pr√©sonnalit√© Q17}="Amasseur", 1,0) + IF({Pr√©sonnalit√© Q18}="Amasseur", 1,0) +
IF({Pr√©sonnalit√© Q19}="Amasseur", 1,0) + IF({Pr√©sonnalit√© Q20}="Amasseur", 1,0)
```

- On voit rapidement la lourdeur de cette m√©thode et surtout la manutention si l'on souhaite changer les personnalit√©s.
- Par contre comme il n'y a pas besoin d'automatisation, cela peut fonctionner sur un compte Gratuit.

### M√©thode 2 - Reformatage des r√©ponses dans une nouvelle table gr√¢ce √† une automatisation.

- Cr√©er **une nouvelle table** "R√©ponses Unitaires" avec 4 champs :
    - Dans le champ 2, cr√©er une liaison avec la table "Quizz" que l'on appellera "R√©pondant" puisque la clef primaire de cette table est l'email du r√©pondant.
    - Dans la champ 3, cr√©er un liaison avec la table "Propositions" que l'on appellera "R√©ponses"
    - Dans le champ 4, cr√©er un champ Lookup pour r√©cup√©rer la personnalit√© associ√©e √† la "R√©ponse".
    - Dans la champ 1, cr√©er une fonction de concatenation int√©grant "un morceau" des champs 2 et 3. Ce champ n'est pas important ici. j'ai choisi dans notre exemple : LEFT({R√©pondant},5)&"-"&LEFT({R√©ponses},5)

Pour l'instant cette table est vide. Il va falloir l'alimenter √† partir des informations du Quizz. C'est le r√¥le de l'automatisation qui suit.

- Cr√©er **une automatisation nomm√©e** "G√©n√©rer R√©ponses Unitaires".
- L'automatisation se lancera d√®s qu'un nouveau quizz est valid√© ("When a record is created").

![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_16.48.51.png](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_16.48.51.png)

- Chaque r√©ponse √† une question doit correspondre un nouvel enregistrement dans la table "R√©ponses Unitaires".
- Cela fait donc **20 actions de cr√©ation de record** dans la table "R√©ponses Unitaires" par quizz rempli (autant vous dire que la version gratuite d'Airtable ne suffit pas !).
- Voici la configuration de chaque action (ici pour la question 2)

![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Enregistrement_de_lecran_2020-12-31_a_16.02.45.gif](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Enregistrement_de_lecran_2020-12-31_a_16.02.45.gif)

- Une fois l'automatisation activ√©e, voici le r√©sultat de la validation d'un premier formulaire par mottet.julien123@gmail.com puis d'un second par julien.mottet.pro@gmail.com dans la table "R√©ponses Unitaires" (voir la transition entre les 2 entre le record 80 et 81).

![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_17.40.17.png](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_17.40.17.png)

enregistrements dans la table "R√©ponses Unitaires" de la fin du questionnaire de Mr mottet.julien123 et du d√©but de celui de Mr [julien.mottet.pro](http://julien.mottet.pro) (transition √† la ligne 80)

- Dans la table Quizz, pour chaque [Personnalit√© K] cr√©er un nouveau champ intitul√© "Nb de [Personnalit√© K]" de type **Count.**

    La configuration du champ est :

    - Table de r√©f√©rence : "R√©ponses Unitaires"
    - Filtre : Champ "Personnalit√©" contains  [Personnalit√© K]

![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_21.05.30.png](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_21.05.30.png)

On r√©cup√®re ainsi **le compte** de chaque personnalit√© dans la table Quizz √† partir des informations g√©n√©r√©es dans la table R√©ponses Unitaires.

## Synth√®se √©crite

- Il suffit de concatener les diff√©rents "Nb de [Personnalit√©]".
- La fonction de synth√®se est

```jsx
"- Amasseur : " & {Nb de Amasseur} & " Point(s) \n"&
"- Collectionneur : " & {Nb de Collectionneur} & " Point(s) \n"&
"- D√©pensier : " & {Nb de D√©pensier} & " Point(s) \n"&
"- Evitant : " & {Nb de Evitant} & " Point(s) \n"&
"- Moine : " & {Nb de Moine} & " Point(s) \n"&
"- Prudent : " & {Nb de Prudent} & " Point(s) \n"&
"- Risquetout : " & {Nb de Risquetout} & " Point(s)"
```

Voici le rendu dans la table Quizz.

![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_23.43.33.png](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-29_a_23.43.33.png)

R√©sultat !

# Etape 3/3 - Envoi de l'email

- Sur le principe cette √©tape est assez √©l√©mentaire.
- Une automatisation peut envoyer un email √† partir de :
    - l'email renseign√© par la personne
    - la synth√®se obtenue ci-dessous.
- Mais quel Trigger utiliser ?

## Configuration de l'automatisation : quel  Trigger utiliser ?

### **Id√©e 1 - La validation du formulaire**

- Si l'on utilise comme Trigger la validation du formulaire, l'email sera vide.
- En effet, la cr√©ation de la synth√®se prend un certain temps.
- Si l'automatisation "envoi de l'email" se lance imm√©diatement √† la validation du formulaire, la synth√®se est vide et donc l'email est envoy√© vide.

### **Id√©e 2 - La fin des calculs**

- On souhaite s'assurer que les calculs sont bien terminer.
- Ajouter un champ  "Nb de Points" qui somme l'ensemble des champs de type "Nb de [Personalit√©]".
- Ce nombre sera √©gal √† 20 lorsque tous les points seront renseign√©s dans les champs "Nb de [Personalit√©]" puisque nous avons 20 questions.
- Donc une option de Trigger est : "Nb de Points" = 20.
- Ca marche !

![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2021-01-06_a_14.19.08.png](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2021-01-06_a_14.19.08.png)

Enfin, voici la configuration de l'√©tape 2 de l'automatisation : la g√©n√©ration et l'envoi de l'email. L'ensemble des informations est issue de la table Quizz.

![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-30_a_00.10.02.png](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2020-12-30_a_00.10.02.png)

Configuration de l'email.

J'esp√®re que cet article √©tait clair.

Si certains points m√©ritent plus d'explications, merci de m'en informer via le Slack Nocode fr ou LinkedIn.

# Etape 4/3 - Maintenant, √† vous de jouer !

### ‚Üí [**T√âL√âCHARGER LE TEMPLATE DE LA BASE**](https://hustling-writer-2516.ck.page/bae07738d3)  ‚Üê

## Comment adapter l'outil √† ma situation ?

J'enverrai, la semaine prochaine, √† toutes les personnes qui t√©l√©charge le template, **une vid√©o** montrant comment adapter l'outil √† votre situation :

- changement du nombre de questions.
- changement du nombre de r√©ponses.
- changement des personnalit√©s.

## Pour plus tard...

il est possible d'envoyer aux r√©pondants, une description de la personnalit√© "majoritaire".

Cela n√©cessite un peu de travail puisque l'on doit identifer la personnalit√© ayant le plus de point.

Si cela vous int√©resse, merci [de m'√©crire](mailto:julien.mottet.pro@gmail.com) et j'√©crirai le d√©tail.

‚≠êÔ∏è

# Vous souhaitez me soutenir ?

- Partagez ce post
- Inscrivez-vous √† ma [nouvelle cha√Æne youtube](https://www.youtube.com/channel/UCCEAWvvFjcTuBx5F3izqXxQ)

‚úÖüí∞

# Bye ! üëã

![AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2021-01-03_a_23.46.15.png](AirAction%20n%C2%B01%203%20e%CC%81tapes%20pour%20concevoir%20un%20test%20de%20%208884b9095399459ba4ba8e8c7f92ca3e/Capture_decran_2021-01-03_a_23.46.15.png)
